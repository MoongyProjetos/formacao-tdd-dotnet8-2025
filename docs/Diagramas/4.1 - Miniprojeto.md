
---

### **Testes refatorados (legíveis + AAA + Theory)**

```csharp
using Xunit;

namespace TestLegibilidade.Tests
{
    public class BankAccountTests
    {
        [Theory]
        [InlineData(50, 150)]
        [InlineData(0, 100)]
        [InlineData(200, 300)]
        public void Deposit_ShouldIncreaseBalance(decimal depositAmount, decimal expectedBalance)
        {
            // Arrange
            var account = new BankAccount("123", 100m);

            // Act
            account.Deposit(depositAmount);

            // Assert
            Assert.Equal(expectedBalance, account.Balance);
        }

        [Fact]
        public void Withdraw_ShouldDecreaseBalance_WhenSufficientFunds()
        {
            // Arrange
            var account = new BankAccount("321", 200m);

            // Act
            account.Withdraw(50m);

            // Assert
            Assert.Equal(150m, account.Balance);
        }

        [Fact]
        public void Withdraw_ShouldThrow_WhenSaldoInsuficiente()
        {
            // Arrange
            var account = new BankAccount("555", 100m);

            // Act & Assert
            Assert.Throws<InvalidOperationException>(() => account.Withdraw(200m));
        }
    }
}
```

✅ Agora os testes estão **legíveis**, seguem **AAA**, têm **nomes descritivos** e cobrem **cenários positivos e negativos**.

---

## 3️⃣ Integração Azure DevOps

Crie `azure-pipelines.yml` na raiz do projeto:

```yaml
trigger:
- main

pool:
  vmImage: 'windows-latest'

variables:
  buildConfiguration: 'Release'

steps:
- task: UseDotNet@2
  inputs:
    packageType: 'sdk'
    version: '9.x'

- task: DotNetCoreCLI@2
  inputs:
    command: 'restore'
    projects: '**/*.csproj'

- task: DotNetCoreCLI@2
  inputs:
    command: 'build'
    projects: '**/*.csproj'
    arguments: '--configuration $(buildConfiguration)'

- task: DotNetCoreCLI@2
  inputs:
    command: 'test'
    projects: '**/*.Tests/*.csproj'
    arguments: '--configuration $(buildConfiguration)'
```

*Cada commit no `main` executará os testes automaticamente.*

---